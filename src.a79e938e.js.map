{"version":3,"sources":["js/news-service.js","index.js"],"names":["NewsApiService","constructor","searchQuery","page","fetchArticles","console","log","options","url","fetch","headers","Authorization","then","r","json","data","incrementPage","resetPage","query","newQuery","refs","searchForm","document","querySelector","articlesContainer","loadMore","newsApiService","onSearch","e","preventDefault","currentTarget","elements","value","onLoadMore","addEventListener"],"mappings":";AAAoC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAArB,MAAMA,EACnBC,cACOC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAGdC,cAAcF,GACZG,QAAQC,IAAI,MACNC,MAMAC,yCAA6C,KAAKN,2CAA2C,KAAKC,OAExGM,MAAMD,EARU,CACdE,QAAS,CACPC,cAAe,sCAOhBC,KAAKC,GAAKA,EAAEC,QACZF,KAAKG,IACCC,KAAAA,gBACLX,QAAQC,IAAIS,KAIlBC,gBACOb,KAAAA,MAAQ,EAGfc,YACOd,KAAAA,KAAO,EAGVe,YACK,OAAA,KAAKhB,YAGVgB,UAAMC,GACHjB,KAAAA,YAAciB,GArCa,QAAA,QAAA;;;;ACwBnC,aAxBD,IAAA,EAAA,EAAA,QAAA,yBAwBC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvBD,QAAA,oBAEA,MAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,mBACnCC,kBAAmBF,SAASC,cAAc,0BAC1CE,SAAUH,SAASC,cAAc,8BAG7BG,EAAiB,IAAI1B,EAAJ,QAKvB,SAAS2B,EAASC,GAChBA,EAAEC,iBAEFH,EAAeR,MAAQU,EAAEE,cAAcC,SAASb,MAAMc,MACtDN,EAAeT,YACfS,EAAetB,cAAcF,aAG/B,SAAS+B,IACPP,EAAetB,cAAcF,aAZ/BkB,EAAKC,WAAWa,iBAAiB,SAAUP,GAC3CP,EAAKK,SAASS,iBAAiB,QAASD","file":"src.a79e938e.js","sourceRoot":"../src","sourcesContent":["export default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles(searchQuery) {\n    console.log(this);\n    const options = {\n      headers: {\n        Authorization: '4c849de3a17848fba6b5da568b220f90',\n      },\n    };\n\n    const url = `https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;\n\n    fetch(url, options)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n        console.log(data);\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","import NewsApiService from './js/news-service.js';\nimport './sass/main.scss';\n\nconst refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  articlesContainer: document.querySelector('.js-articles-container'),\n  loadMore: document.querySelector('[data-action=\"load-more\"]'),\n};\n\nconst newsApiService = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMore.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  newsApiService.query = e.currentTarget.elements.query.value;\n  newsApiService.resetPage();\n  newsApiService.fetchArticles(searchQuery);\n}\n\nfunction onLoadMore() {\n  newsApiService.fetchArticles(searchQuery);\n}\n"]}